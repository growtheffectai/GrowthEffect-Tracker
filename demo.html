<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GETracker SDK Demo</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      max-width: 600px;
      margin: 50px auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .container {
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    h1 {
      color: #333;
      margin-top: 0;
    }
    .form-group {
      margin-bottom: 20px;
    }
    label {
      display: block;
      margin-bottom: 5px;
      color: #555;
      font-weight: 500;
    }
    input, textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 14px;
      box-sizing: border-box;
    }
    input:focus, textarea:focus {
      outline: none;
      border-color: #3B81F6;
    }
    button {
      background: #3B81F6;
      color: white;
      padding: 12px 24px;
      border: none;
      border-radius: 4px;
      font-size: 16px;
      cursor: pointer;
      width: 100%;
    }
    button:hover {
      background: #2563eb;
    }
    .info {
      background: #f0f9ff;
      border: 1px solid #3B81F6;
      padding: 15px;
      border-radius: 4px;
      margin-bottom: 20px;
      font-size: 14px;
    }
    .debug {
      margin-top: 30px;
      padding: 15px;
      background: #f9fafb;
      border-radius: 4px;
      font-size: 12px;
      font-family: monospace;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>GETracker SDK Demo</h1>

    <div class="info">
      <strong>Auto-Capture Enabled!</strong><br>
      This form will be automatically captured when submitted. Check the console for debug logs.
    </div>

    <form id="lead-form">
      <div class="form-group">
        <label for="email">Email *</label>
        <input type="email" id="email" name="email" required placeholder="your@email.com">
      </div>

      <div class="form-group">
        <label for="name">Full Name</label>
        <input type="text" id="name" name="name" placeholder="John Doe">
      </div>

      <div class="form-group">
        <label for="phone">Phone</label>
        <input type="tel" id="phone" name="phone" placeholder="+1234567890">
      </div>

      <div class="form-group">
        <label for="company">Company</label>
        <input type="text" id="company" name="company" placeholder="Acme Inc">
      </div>

      <div class="form-group">
        <label for="industry">Industry (Custom Field)</label>
        <input type="text" id="industry" name="industry" placeholder="Technology">
      </div>

      <div class="form-group">
        <label for="notes">Message</label>
        <textarea id="notes" name="notes" rows="4" placeholder="Tell us about your needs..."></textarea>
      </div>

      <button type="submit">Submit</button>
    </form>

    <div class="debug" id="debug">
      <strong>Debug Info:</strong><br>
      SDK Ready: <span id="sdk-ready">No</span><br>
      Session ID: <span id="session-id">-</span><br>
      UTM Source: <span id="utm-source">-</span><br>
      UTM Campaign: <span id="utm-campaign">-</span><br>
      Click ID: <span id="click-id">-</span>
    </div>
  </div>

  <!-- GrowthEffect Tracker SDK -->
  <script src="./dist/ge-tracker.min.js"></script>
  <script>
    // Initialize SDK with debug mode
    GETracker.init({
      apiKey: 'MO67DTDYIsbODXeEnm_C6YMsgTLRDeJwrR1EJN36M5M',
      debug: false // Enable console logging
    });

    // Enable auto-capture
    GETracker.autoCapture();

    // Update debug info
    document.getElementById('sdk-ready').textContent = GETracker.isReady() ? 'Yes' : 'No';
    document.getElementById('session-id').textContent = GETracker.getSessionId() || '-';

    const utmParams = GETracker.getUTMParams();
    document.getElementById('utm-source').textContent = utmParams?.utm_source || '-';
    document.getElementById('utm-campaign').textContent = utmParams?.utm_campaign || '-';

    // Prevent form from redirecting for demo purposes
    document.getElementById('lead-form').addEventListener('submit', function(e) {
      e.preventDefault(); // Prevent page reload/redirect
      console.log('Form submitted! Auto-capture will handle this.');

      // Show a success message after a delay to let the capture complete
      setTimeout(() => {
        alert('Lead tracked! Check the browser console and backend terminal for logs.');
        // Optionally reset the form
        // e.target.reset();
      }, 500);
    });

    // Try adding UTM params to URL to test
    // Example: ?utm_source=facebook&utm_medium=cpc&utm_campaign=summer2024
    console.log('Test URL with UTM params:', window.location.href + '?utm_source=facebook&utm_medium=cpc&utm_campaign=summer2024&fbclid=test123');
  </script>
</body>
</html>
